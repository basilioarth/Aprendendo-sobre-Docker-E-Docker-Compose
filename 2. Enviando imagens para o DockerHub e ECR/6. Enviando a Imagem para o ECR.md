**Resumo da Aula: Push para AWS ECR e Boas Pr√°ticas de Versionamento**  

---

### **Principais Passos e Conceitos**  

#### **1. Autentica√ß√£o no AWS ECR**  
- **Gera√ß√£o do Token**:  
  ```bash  
  aws ecr get-login-password --region us-east-2 | docker login --username AWS --password-stdin <SEU_ACCOUNT_ID>.dkr.ecr.us-east-2.amazonaws.com  
  ```  
  - Substitua `<SEU_ACCOUNT_ID>` pelo ID da sua conta AWS.  
  - O token expira em **12 horas** (renove-o conforme necess√°rio).  

#### **2. Tag e Push da Imagem**  
- **Tagueamento**:  
  ```bash  
  docker tag widget-server:v1 <SEU_ACCOUNT_ID>.dkr.ecr.us-east-2.amazonaws.com/rocketseat/widget-server:v1  
  ```  
- **Push para o ECR**:  
  ```bash  
  docker push <SEU_ACCOUNT_ID>.dkr.ecr.us-east-2.amazonaws.com/rocketseat/widget-server:v1  
  ```  

#### **3. Imutabilidade de Tags**  
- **Erro de Sobrescrita**:  
  Tentar enviar uma nova imagem com a mesma tag (`v1`) em um reposit√≥rio imut√°vel gera erro:  
  ```  
  Error: Tag inv√°lida. A imagem j√° existe e n√£o pode ser sobrescrita.  
  ```  
- **Solu√ß√£o**:  
  Use **novas tags** (ex: `v2`, `v3`) para cada altera√ß√£o:  
  ```bash  
  docker tag widget-server:v1 <SEU_ACCOUNT_ID>.dkr.ecr.us-east-2.amazonaws.com/rocketseat/widget-server:v2  
  ```  

#### **4. Visualiza√ß√£o no Console AWS**  
- A imagem aparece no ECR com:  
  - Tamanho comprimido.  
  - Arquitetura (ex: Linux/ARM64).  
  - Hist√≥rico de tags (ex: `v1`, `v2`).  

---

üëâ **Dica do Instrutor**:  
*"Tags imut√°veis s√£o como pegadas na areia: cada vers√£o conta uma hist√≥ria. Use `v1`, `v2`, `hotfix`... e nunca apague o passado da sua aplica√ß√£o!"* üè∑Ô∏è  

---

### **Pr√≥xima Aula: CI/CD com Git e Pipelines Automatizadas** üöÄ  
- **O que veremos**:  
  1. Integra√ß√£o do reposit√≥rio Git (GitHub/GitLab) com AWS ECR.  
  2. Configura√ß√£o de pipelines para build e push autom√°ticos a cada commit.  
  3. Versionamento inteligente (ex: tags baseadas no hash do commit).  
  4. Gatilhos para produ√ß√£o (ex: deploy autom√°tico ap√≥s push no branch `main`).  

*"Chega de comandos manuais! Vamos transformar cada commit em uma nova vers√£o da sua imagem, sem esfor√ßo."* ü§ñ  

---

**Conclus√£o**:  
Enviar imagens para o AWS ECR exige aten√ß√£o a autentica√ß√£o, versionamento e imutabilidade. Na pr√≥xima aula, automatizaremos todo o processo com CI/CD, garantindo seguran√ßa e efici√™ncia em ambientes profissionais! üöÄ